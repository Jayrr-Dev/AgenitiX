/* =====================================================================
   global.css — Tailwind v4 + conic-border animations (Vercel-safe)
   ===================================================================== */

/* 1 · Tailwind & Google Fonts --------------------------------------- */
@import 'tailwindcss';
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Work+Sans:wght@400;600&family=Source+Serif+Pro:ital,wght@0,400;1,400&display=swap')
  layer(utilities);

/* 2 · Custom-property registration (only animating vars) ------------ */
/* 1% FUCK THIS BUG */
@property --fill-transparency-left  { syntax:'<percentage>'; inherits:true; initial-value:1%;}
@property --fill-transparency-right { syntax:'<percentage>'; inherits:true; initial-value:100%; }
@property --fill-angle-left         { syntax:'<angle>';      inherits:true; initial-value:180deg; }
@property --fill-angle-right        { syntax:'<angle>';      inherits:true; initial-value:180deg; }
@property --angle                   { syntax:'<angle>';      inherits:true; initial-value:0deg;  }

/* 3 · Theme tokens -------------------------------------------------- */
@theme {
  --font-sans  : 'Inter', system-ui, sans-serif;
  --font-ui    : 'Work Sans', sans-serif;
  --font-serif : 'Source Serif Pro', serif;
  --font-brand : var(--font-sans);

  --radius-lg  : 0.5rem;

  /* dark-first palette */
  --background           : 0 0% 6%;
  --foreground           : 0 0% 98%;
  --primary              : 0 0% 98%;
  --primary-foreground   : 0 0% 6%;
  --secondary            : 210 100% 54%;
  --secondary-foreground : 0 0% 100%;
  --muted                : 0 0% 18%;
  --muted-foreground     : 0 0% 70%;
  --border               : var(--muted);

  /* shorthand animations */
  --animate-fill-transparency :
      fill-left-transparency  2s forwards,
      fill-right-transparency 2s forwards;
  --animate-rotate-border     : rotate-border 3s linear infinite;
  
  --animate-scroll-x: scroll-x var(--ticker-duration, 40s) linear infinite;

  --animate-scroll-x-rewind: scroll-x-rewind var(--ticker-duration, 40s ) linear infinite;

  --animate-scroll: scroll var(--animation-duration, 80s) var(--animation-direction, forwards) linear infinite;

  --animate-vert-scroll: vert-scroll var(--animation-duration, 80s) var(--animation-direction, forwards) linear infinite;

}



/* 4 · Keyframes ----------------------------------------------------- */
@layer utilities {
  @keyframes rotate-border { from { --angle: 0deg; } to { --angle: 360deg; } }
  @keyframes scroll-x {
    0%   { transform: translateX(0) }
    100% { transform: translateX(-50%) }
  }

  @keyframes scroll-x-loop {
    from { transform: translateX(0)     }
    to   { transform: translateX(-50%) } /* exactly half width */
  }

  @keyframes scroll {
    to {
      transform: translate(calc(-50% - 0.5rem));
    }
  }
  
  @keyframes vert-scroll {
    0%   { transform: translateY(0%);   }
    100% { transform: translateY(-50%); }
  }
  
  @keyframes scroll-x-rewind {
    0%   { transform: translateX(0) }      /* logos start flush left */
    98%  { transform: translateX(-50%) }   /* just before the end       */
    99%  { transform: translateX(-50%) }   /* hold for one frame        */
    100% { transform: translateX(0) }      /* snap back to beginning    */
  }

  @keyframes scroll-x {
    0%   { transform: translateX(0) }
    100% { transform: translateX(-50%) }
  }


  @keyframes fill-left-transparency  { from { --fill-transparency-left : 0%; } to { --fill-transparency-left :100%; } }
  @keyframes fill-right-transparency { from { --fill-transparency-right:100%; } to { --fill-transparency-right: 0%; } }
}

/* 5 · Utility classes (top-level, v4-safe) -------------------------- */
/* token helpers */
@utility bg-background   { background-color: hsl(var(--background)); }
@utility text-foreground { color          : hsl(var(--foreground)); }
@utility border-border   { border-color   : hsl(var(--border));     }

/* trigger the twin transparency sweeps */
@utility animate-fill-transparency {
  animation: var(--animate-fill-transparency);
}

@utility animate-scroll-x-loop {
  animation: scroll-x-loop var(--ticker-duration) linear infinite;
}

/* rotating border (unchanged) */
@utility bg-spinning-border {
  background:
    conic-gradient(from var(--angle), #213, #112 5%, #112 60%, #213 95%) padding-box,
    conic-gradient(from var(--angle), transparent 25%, #08f, #f03 95%, transparent) border-box,
    conic-gradient(from var(--angle), #213, #112 5%, #112 60%, #213 95%) border-box;
}

/* border that fills from both edges toward centre */
@utility bg-fill-border {
  background:
    linear-gradient(360deg, background, background) padding-box,

    /* right sweep (sentinel stop so var() isn’t last) */
    conic-gradient(
      from var(--fill-angle-right),
      transparent var(--fill-transparency-right),
      #08f,
      #f03 100%,
      transparent,
      rgba(0,0,0,0) 100%) border-box,

    /* left sweep (same pattern) */
    conic-gradient(
      from var(--fill-angle-left),
      #f03,
      #08f,
      transparent calc(var(--fill-transparency-left) - 1%),
      rgba(0,0,0,0) 100%) border-box;
}

/* same stack without base colour — good for text clips */
@utility bg-fill-content {
  background:
    conic-gradient(
      from var(--fill-angle-right),
      transparent var(--fill-transparency-right),
      #08f,
      #f03 100%,
      transparent,
      rgba(0,0,0,0) 100%) border-box,
    conic-gradient(
      from var(--fill-angle-left),
      #f03,
      #08f,
      transparent calc(var(--fill-transparency-left) - 1%),
      rgba(0,0,0,0) 100%) border-box;
}

@utility grid-12 {
  grid-template-columns: repeat(12, minmax(0, 1fr));
  margin-left: 16px;
  margin-right: 16px;
}

@media (min-width: 768px) {
  .grid-12 {
    margin-left: 24px;
    margin-right: 24px;
  }
}

@media (min-width: 1024px) {
  .grid-12 {
    margin-left: auto;
    margin-right: auto;
    max-width: 1280px;
  }
}


/* DEBUG UTILITIES */
@utility debug-red {
  border: 2px solid red;
}

@utility debug-blue {
  border: 2px solid blue;
}

@utility debug-green {
  border: 2px solid green;
}

@utility debug-yellow {
  border: 2px solid yellow;
}

@utility debug-purple {
  border: 2px solid purple;
}

@utility debug-orange {
  border: 2px solid orange;
}
/* 6 · Base layer ---------------------------------------------------- */
@layer base {
  *, ::before, ::after, ::backdrop, ::file-selector-button { @apply border-border; }

  .light {
    --background : 0 0% 100%;
    --foreground : 222 47% 11%;
    --border     : 220 14% 91%;
  }

  body { @apply bg-background text-foreground antialiased; }

  .font-ui    { font-family: var(--font-ui);    }
  .font-serif { font-family: var(--font-serif); }
  .font-brand { font-family: var(--font-brand); font-weight:700; }
}

/* -------------------------------------------------------------------
   Example usage (remove in real code)
.element {
  @apply bg-fill-border hover:animate-fill-transparency;
}
------------------------------------------------------------------- */



